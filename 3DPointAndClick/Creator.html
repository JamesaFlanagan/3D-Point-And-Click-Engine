<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>3D Adventure Engine Game Creator</title>

    <!--  Simple reset to delete the margins  -->
    <style>
        body {
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 100%
        }
    </style>
    <!--  Three.js CDN  -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js"></script>-->

    <script src="CDN/three.js"></script>
    <script src="CDN/Underscore.min.js"></script>

    <link rel="stylesheet" href="CSS/AdventureEngine.css">
</head>
<body>

    <script src="Scripts/Engine.js"></script>
    <script src="Scripts/GameFileCreator_Data.js"></script>
    <script src="Scripts/GameFileCreator_Logic.js"></script>
    <script src="Scripts/GameFileCreator_Display.js"></script>

    <script type="text/javascript">

        var AddNewObject = function () {

            var newType = CreateableTypesList.value;

            objectCreate(newType);

            refreshUIValues();
        }

        var AddNewAction = function () {

            var newType = CreateableActionTypesList.value;

            actionCreate(newType);

            refreshUIValues();
        }

        var btnUpdateObjectData_Click = function (a, b) {

            var newObject = getObjectDataFromParamListDiv(CurrentObjectDiv);
            
            objectUpdate(CurrentObjectSaveButton.getAttribute("commandarg"), newObject);

            refreshUIValues();
        }

    </script>

    <div id="leftBar" class="SideBar">

        <div>
            <input id="btnReloadGame" type="submit" onclick="reloadGame(); return false;" value="Reload Game">
        </div>

        <h3>Scenes</h3>
        <div id="SceneList" class="SceneList">

        </div>

        <h3>Scene Objects</h3>
        <div id="CurrentObjectList" class="ObjectList">

        </div>

        <div>
            <select id="CreateableTypes" />
            <input id="btnAddObject" type="submit" onclick="AddNewObject(); return false;" value="Add Object" />
        </div>

        <h3>Actions</h3>
        <div id="CurrentActionsList" class="ActionList">

        </div>

        <div>
            <select id="CreateableActionTypes" />
            <input id="btnAddAction" type="submit" onclick="AddNewAction(); return false;" value="Add Action" />
        </div>

    </div>

    <canvas id="Canvas"> </canvas>

    <div id="DisplayText"></div>

    <div id="rightBar" class="SideBar">
        
        <div id="CurrentObject">

        </div>
        <input id="CurrentObjectSaveButton" type="submit" value="Update" commandArg="NA" onclick="btnUpdateObjectData_Click(this); return false;" />
    </div>

    <script type="text/javascript">

        setupCreatorScreen();

    </script>

</body>
</html>